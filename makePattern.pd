#N canvas 480 42 730 666 10;
#X obj 158 53 bng 10 250 50 0 empty roll.Duration r.roll.Duration 17
7 0 8 -262144 -1 -1;
#X msg 245 172 16, f 2;
#X msg 221 172 8, f 2;
#X msg 192 172 4, f 2;
#X msg 163 172 2, f 2;
#X msg 134 172 1, f 2;
#X obj 185 235 t b f;
#X obj 216 342 / 1;
#X floatatom 147 296 5 0 0 0 ms/beat - -;
#X floatatom 38 138 4 0 0 0 bpm - -;
#X obj 38 27 inlet BPM;
#X obj 47 46 bng 10 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 74 172 t b f;
#X msg 39 207 60000;
#X obj 86 243 / 1;
#X floatatom 227 265 3 0 0 1 th_note - -;
#X obj 362 73 bng 10 250 50 0 empty roll.Pitch r.roll.Pitch 17 7 0
8 -262144 -1 -1;
#X obj 423 242 t b f;
#X msg 476 174 8, f 2;
#X msg 498 174 9, f 2;
#X msg 521 174 10, f 2;
#X msg 544 174 11, f 2;
#X obj 362 132 sel 0 1 2 3 4 5 6 7 8 9 10;
#N canvas 0 22 450 278 (subpatch) 0;
#X array patternArray 16 float 3;
#A 0 833.333 52.0833 0 208.333 104.167 833.333 416.667 208.333 208.333
833.333 833.333 208.333 104.167 0 208.333 208.333;
#X coords 0 3000 16 0 125 50 1 0 0;
#X restore 421 536 graph;
#X obj 551 303 tabwrite patternArray;
#X obj 404 265 f;
#X obj 452 319 r mtBeats;
#N canvas 0 22 450 278 (subpatch) 0;
#X array patternNote 16 float 3;
#A 0 0 2 3 5 6 0 1 1 5 0 0 5 0 1 5 2;
#X coords 0 12 16 0 125 50 1 0 0;
#X restore 561 538 graph;
#X obj 554 327 tabwrite patternNote;
#X text 152 362 this is great with percussion!!;
#X text 23 89 increase RANDOM value for more chance of 0;
#X obj 561 40 bng 15 250 50 0 empty newPatt r.newPatt -8 -7 0 10 -262144
-1 -1;
#X obj 249 394 bng 15 250 50 0 newPatt empty s.newPatt -8 -7 0 10 -262144
-1 -1;
#X obj 296 398 hradio 10 1 0 3 pattWriteLen empty writeLen 0 -8 0 10
-262144 -1 -1 2;
#X obj 594 44 r pattWriteLen;
#X obj 204 428 hradio 10 1 0 3 melLen empty melLen 0 -8 0 10 -262144
-1 -1 2;
#X obj 452 339 spigot;
#X obj 349 388 tgl 15 0 empty empty on 17 7 0 10 -204786 -1 -1 1 1
;
#X obj 475 357 bng 8 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 161 451 tgl 15 0 empty empty perc 17 7 0 10 -262144 -1 -1 1
1;
#X obj 162 425 tgl 15 0 empty empty mel 17 7 0 10 -262144 -1 -1 1 1
;
#X msg 322 174 0, f 2;
#X msg 345 174 1, f 2;
#X msg 367 174 2, f 2;
#X msg 389 174 3, f 2;
#X msg 410 174 4, f 2;
#X msg 432 174 5, f 2;
#X msg 454 174 6, f 2;
#X obj 362 112 random 7;
#X obj 263 452 nbx 2 14 1 16 0 1 empty empty chan 0 -8 0 10 -262144
-1 -1 4 256;
#X obj 321 335 loadbang;
#X obj 247 428 hradio 10 1 0 7 empty empty mode 0 -8 0 8 -262144 -1
-1 0;
#N canvas 0 23 450 300 trgMel 0;
#X obj 47 138 + 1;
#X floatatom 47 158 5 0 0 0 - - -;
#X obj 85 137 i;
#X msg 100 115 0;
#X obj 47 177 mod 8;
#X floatatom 47 196 5 0 0 0 - - -;
#X obj 100 94 sel 0;
#X msg 144 131 4;
#X msg 148 150 8;
#X msg 152 169 16;
#X obj 192 65 sel 0 1 2;
#X obj 47 46 inlet beat;
#X obj 47 225 outlet read;
#X obj 192 45 r melLen;
#X obj 265 105 bng 10 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X connect 0 0 1 0;
#X connect 0 0 2 1;
#X connect 1 0 4 0;
#X connect 2 0 0 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 5 0 12 0;
#X connect 6 0 3 0;
#X connect 7 0 4 1;
#X connect 8 0 4 1;
#X connect 9 0 4 1;
#X connect 10 0 7 0;
#X connect 10 1 8 0;
#X connect 10 2 9 0;
#X connect 11 0 0 0;
#X connect 11 0 14 0;
#X connect 13 0 10 0;
#X coords 0 -1 1 1 85 20 1 200 100;
#X restore 452 411 pd trgMel;
#X obj 204 454 hradio 10 1 0 3 percLen empty percLen 0 -8 0 10 -262144
-1 -1 2;
#N canvas 0 22 450 300 trgPerc 0;
#X obj 47 138 + 1;
#X floatatom 47 158 5 0 0 0 - - -;
#X obj 85 137 i;
#X msg 100 115 0;
#X obj 47 177 mod 8;
#X floatatom 47 196 5 0 0 0 - - -;
#X obj 100 94 sel 0;
#X msg 144 131 4;
#X msg 148 150 8;
#X msg 152 169 16;
#X obj 192 65 sel 0 1 2;
#X obj 47 46 inlet beat;
#X obj 47 225 outlet read;
#X obj 265 105 bng 10 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 192 45 r percLen;
#X connect 0 0 1 0;
#X connect 0 0 2 1;
#X connect 1 0 4 0;
#X connect 2 0 0 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 5 0 12 0;
#X connect 6 0 3 0;
#X connect 7 0 4 1;
#X connect 8 0 4 1;
#X connect 9 0 4 1;
#X connect 10 0 7 0;
#X connect 10 1 8 0;
#X connect 10 2 9 0;
#X connect 11 0 0 0;
#X connect 11 0 13 0;
#X connect 14 0 10 0;
#X coords 0 -1 1 1 85 20 1 200 100;
#X restore 540 411 pd trgPerc;
#N canvas 398 140 472 420 playPerc 0;
#X obj 161 226 makenote;
#X obj 134 153 + 60;
#X obj 122 262 spigot;
#X obj 151 105 tabread patternArray;
#X floatatom 170 126 3 0 0 0 - - -;
#X floatatom 170 87 3 0 0 0 - - -;
#X obj 134 67 tabread patternNote;
#X obj 231 143 loadbang;
#X obj 32 187 inlet onOff;
#X obj 134 23 inlet trigger;
#X obj 188 288 t b f;
#X obj 219 322 nbx 2 14 1 16 0 1 empty empty empty 0 -8 0 10 -262144
-1 -1 1 256;
#X obj 157 347 pack f f f;
#X obj 157 367 s MIDIperc;
#X obj 171 262 spigot;
#X msg 168 180 100;
#X connect 0 0 2 0;
#X connect 0 1 14 0;
#X connect 1 0 0 0;
#X connect 2 0 12 0;
#X connect 3 0 4 0;
#X connect 3 0 0 2;
#X connect 6 0 5 0;
#X connect 6 0 1 0;
#X connect 7 0 15 0;
#X connect 8 0 2 1;
#X connect 8 0 14 1;
#X connect 9 0 6 0;
#X connect 9 0 3 0;
#X connect 10 0 11 0;
#X connect 10 1 12 1;
#X connect 11 0 12 2;
#X connect 12 0 13 0;
#X connect 14 0 10 0;
#X connect 15 0 0 1;
#X restore 554 454 pd playPerc;
#N canvas 648 155 501 430 playMel 0;
#X obj 262 71 tabread patternArray;
#X floatatom 273 91 5 0 0 0 - - -;
#X floatatom 147 90 3 0 0 0 - - -;
#X obj 133 71 tabread patternNote;
#X msg 204 161 100;
#X obj 182 203 makenote;
#X obj 107 188 spigot;
#X obj 143 234 spigot;
#X obj 260 125 loadbang;
#X obj 99 119 diatonic-scale;
#X obj 57 17 inlet onOff;
#X obj 134 17 inlet trigger;
#X obj 232 17 inlet mode;
#X obj 309 17 inlet channel;
#X obj 404 16 inlet root;
#X obj 46 359 outlet note;
#X obj 121 359 outlet vel;
#X obj 324 360 outlet chan;
#X obj 215 254 t b f;
#X obj 294 292 nbx 2 14 1 16 0 1 empty empty empty 0 -8 0 10 -262144
-1 -1 4 256;
#X obj 188 234 spigot;
#X obj 214 342 pack f f f;
#X obj 214 362 s MIDImel;
#X connect 0 0 1 0;
#X connect 0 0 6 1;
#X connect 0 0 5 2;
#X connect 3 0 2 0;
#X connect 3 0 9 0;
#X connect 4 0 5 1;
#X connect 5 0 7 0;
#X connect 5 1 20 0;
#X connect 6 0 5 0;
#X connect 7 0 15 0;
#X connect 7 0 21 0;
#X connect 8 0 4 0;
#X connect 9 0 6 0;
#X connect 10 0 7 1;
#X connect 10 0 20 1;
#X connect 11 0 3 0;
#X connect 11 0 0 0;
#X connect 12 0 9 2;
#X connect 13 0 19 0;
#X connect 14 0 9 1;
#X connect 18 0 19 0;
#X connect 18 1 16 0;
#X connect 18 1 21 1;
#X connect 19 0 17 0;
#X connect 19 0 21 2;
#X connect 20 0 18 0;
#X connect 21 0 22 0;
#X restore 237 492 pd playMel;
#X obj 158 110 random 8;
#N canvas 0 180 444 506 newPattern 0;
#X msg 72 93 1;
#X obj 71 184 + 1;
#X floatatom 71 204 5 0 0 0 - - -;
#X obj 109 183 i;
#X msg 148 119 0;
#X obj 71 223 mod 8;
#X floatatom 71 243 5 0 0 0 - - -;
#X obj 157 212 sel 0;
#X msg 109 86 0;
#X obj 69 141 metro 50;
#X msg 209 107 4;
#X msg 223 135 8;
#X msg 215 164 16;
#X obj 262 84 sel 0 1 2;
#X obj 38 27 inlet newPatt;
#X obj 202 29 inlet pattLen;
#X obj 71 262 outlet value;
#X connect 0 0 9 0;
#X connect 1 0 2 0;
#X connect 1 0 3 1;
#X connect 2 0 5 0;
#X connect 3 0 1 0;
#X connect 4 0 3 1;
#X connect 4 0 8 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 0 16 0;
#X connect 7 0 4 0;
#X connect 8 0 9 0;
#X connect 9 0 3 0;
#X connect 10 0 5 1;
#X connect 11 0 5 1;
#X connect 12 0 5 1;
#X connect 13 0 10 0;
#X connect 13 1 11 0;
#X connect 13 2 12 0;
#X connect 14 0 0 0;
#X connect 15 0 13 0;
#X restore 561 69 pd newPattern;
#X obj 590 91 s roll.Pitch;
#X obj 328 424 nbx 2 14 60 72 0 1 empty empty root 25 10 0 8 -262144
-1 -1 60 256;
#X obj 345 27 inlet mode;
#X obj 137 551 outlet melNote;
#X obj 230 551 outlet melVel;
#X obj 317 551 outlet melChan;
#X obj 158 130 sel 0 1 2 3 4;
#X msg 268 172 0, f 2;
#X connect 0 0 57 0;
#X connect 1 0 6 0;
#X connect 2 0 6 0;
#X connect 3 0 6 0;
#X connect 4 0 6 0;
#X connect 5 0 6 0;
#X connect 6 0 8 0;
#X connect 6 1 7 1;
#X connect 6 1 15 0;
#X connect 7 0 25 1;
#X connect 8 0 7 0;
#X connect 9 0 12 0;
#X connect 10 0 11 0;
#X connect 10 0 9 0;
#X connect 12 0 13 0;
#X connect 12 1 14 1;
#X connect 13 0 14 0;
#X connect 14 0 8 0;
#X connect 16 0 48 0;
#X connect 17 0 25 0;
#X connect 17 0 57 0;
#X connect 17 1 28 0;
#X connect 22 0 41 0;
#X connect 22 1 42 0;
#X connect 22 2 43 0;
#X connect 22 3 44 0;
#X connect 22 4 45 0;
#X connect 22 5 46 0;
#X connect 22 6 47 0;
#X connect 22 7 18 0;
#X connect 22 8 19 0;
#X connect 22 9 20 0;
#X connect 22 10 21 0;
#X connect 25 0 24 0;
#X connect 26 0 36 0;
#X connect 31 0 58 0;
#X connect 34 0 58 1;
#X connect 36 0 38 0;
#X connect 36 0 52 0;
#X connect 36 0 54 0;
#X connect 37 0 36 1;
#X connect 39 0 55 0;
#X connect 40 0 56 0;
#X connect 41 0 17 0;
#X connect 42 0 17 0;
#X connect 43 0 17 0;
#X connect 44 0 17 0;
#X connect 45 0 17 0;
#X connect 46 0 17 0;
#X connect 47 0 17 0;
#X connect 48 0 22 0;
#X connect 49 0 56 3;
#X connect 50 0 49 0;
#X connect 51 0 56 2;
#X connect 52 0 56 1;
#X connect 54 0 55 1;
#X connect 56 0 62 0;
#X connect 56 1 63 0;
#X connect 56 2 64 0;
#X connect 57 0 65 0;
#X connect 58 0 24 1;
#X connect 58 0 28 1;
#X connect 58 0 59 0;
#X connect 60 0 56 4;
#X connect 61 0 51 0;
#X connect 65 0 5 0;
#X connect 65 1 4 0;
#X connect 65 2 3 0;
#X connect 65 3 2 0;
#X connect 65 4 1 0;
#X connect 65 5 66 0;
#X connect 66 0 6 0;
#X coords 0 -1 1 1 230 100 1 150 380;
